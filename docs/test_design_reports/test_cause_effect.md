# ОТЧЕТ ПРИЧИННО-СЛЕДСТВЕННОГО АНАЛИЗА СИСТЕМЫ "УМНЫЙ ДОМ"

### Тестовые сценарии из `CauseEffectTests.py`

## ОБЩАЯ ИНФОРМАЦИЯ

**Дата анализа:** 2025 год  
**Объект тестирования:** Система управления умным домом  
**Методология:** Причинно-следственный анализ (Cause-Effect Analysis)  
**Количество тест-кейсов:** 11  

## РЕЗУЛЬТАТЫ ТЕСТИРОВАНИЯ

### ТЕСТЫ УПРАВЛЕНИЯ УСТРОЙСТВАМИ

#### **CE-01: Комбинации управления светом**

| Причина (Действие) | Параметр | Следствие (Состояние) | Следствие (Яркость) | Статус |
|-------------------|----------|----------------------|---------------------|---------|
| `on` | `None` | `on` | `100` | Пройден |
| `on` | `50` | `on` | `50` | Пройден |
| `off` | `None` | `off` | `0` | Пройден |
| `toggle` | `None` | `on` | `100` | Пройден |

**Вывод:** Все комбинации управления яркостью работают корректно

---

#### **CE-02: Переходы состояний устройств**

| Устройство | Команда | Начальное состояние | Конечное состояние | Статус |
|------------|---------|---------------------|-------------------|---------|
| Все устройства | `off` | любое | `off` | Пройден |
| Все устройства | `on` | любое | `on` | Пройден |
| Все устройства | `toggle` | `off` | `on` | Пройден |
| Все устройства | `toggle` | `on` | `off` | Пройден |

**Вывод:** Устройства корректно обрабатывают все переходы состояний

---

#### **CE-03: Режимы безопасности камеры**

| Команда | Начальное состояние | Ожидаемое состояние | Ожидаемая запись | Статус |
|---------|---------------------|-------------------|------------------|---------|
| `on` | `off` | `on` | `True` | Пройден |
| `off` | `on` | `off` | `False` | Пройден |
| `toggle` | `off` | `on` | `True` | Пройден |
| `toggle` | `on` | `off` | `False` | Пройден |

**Вывод:** Камера корректно синхронизирует состояние и режим записи

---

#### **CE-09: Обнаружение изменений состояний**

| Устройство | Изменение состояния | Обнаружено изменение | Повторная проверка | Статус |
|------------|---------------------|----------------------|-------------------|---------|
| Лампа | `off` → `on` | Да | Нет | Пройден |
| Термостат | `on` → `off` | Да | Нет | Пройден |
| Камера | `off` → `on` | Да | Нет | Пройден |

**Вывод:** Механизм обнаружения изменений работает корректно для всех устройств

---

#### **CE-10: Сохранение температуры термостата**

| Действие | Начальная температура | Конечная температура | Сохранение | Статус |
|----------|----------------------|---------------------|------------|---------|
| Включение | `22°C` | `22°C` | Да | Пройден |
| Выключение | `22°C` | `22°C` | Да | Пройден |

**Вывод:** Температура термостата сохраняется при всех операциях включения/выключения

---

### ТЕСТЫ UI ВЗАИМОДЕЙСТВИЯ

#### **CE-04: Навигация по меню UI**

| Выбор меню | Ожидаемый экран | Вызванный метод | Статус |
|------------|-----------------|-----------------|---------|
| `1` | Управление освещением | `_manage_lighting` | Пройден |
| `2` | Управление климатом | `_manage_climate` | Пройден |
| `3` | Управление безопасностью | `_manage_security` | Пройден |
| `4` | Просмотр логов | `_show_logs` | Пройден |
| `5` | Демо-сценарий | `_run_demo_scenario` | Пройден |
| `6` | Выход | `stop_system` | Пройден |

**Вывод:** Навигация по главному меню работает корректно

---

#### **CE-05: Взаимодействие с UI освещения**

| Выбор в подменю | Ожидаемое действие | Состояние света | Статус |
|-----------------|-------------------|-----------------|---------|
| `1` | `on` | `on` | Пройден |
| `2` | `off` | `off` | Пройден |
| `3` | `toggle` | Противоположное | Пройден |

**Вывод:** Подменю освещения корректно управляет состоянием лампы

---

#### **CE-11: Возврат из подменю**

| Подменю | Действие "Назад" | Результат | Статус |
|---------|------------------|-----------|---------|
| Управление освещением | Выбор `4` | Возврат в главное меню | Пройден |
| Управление климатом | Выбор `4` | Возврат в главное меню | Пройден |
| Управление безопасностью | Выбор `4` | Возврат в главное меню | Пройден |

**Вывод:** Навигация "Назад" из подменю работает корректно

---

### ТЕСТЫ СЦЕНАРИЕВ И ПОТОКОВ

#### **CE-06: Выполнение демо-сценария**

| Шаг | Устройство | Команда | Конечное состояние | Статус |
|-----|------------|---------|-------------------|---------|
| 1 | Лампа | `on` | `on` | Пройден |
| 2 | Термостат | `on` | `on` | Пройден |
| 3 | Камера | `on` | `on` + запись | Пройден |
| 4 | Лампа | `off` | `off` | Пройден |
| 5 | Термостат | `off` | `off` | Пройден |

**Финальное состояние системы:**
- Свет: `off`
- Термостат: `off` 
- Камера: `on` (запись: `True`)

**Вывод:** Демо-сценарий выполняется корректно, конечное состояние соответствует ожиданиям

---

#### **CE-08: Инициализация системы**

| Компонент | Создан | Инициализирован | Статус |
|-----------|--------|-----------------|---------|
| DeviceManager | Да | Да | Пройден |
| LoggingService | Да | Да | Пройден |
| AutomationService | Да | Да | Пройден |
| Устройства по умолчанию | Да (3 устройства) | Да | Пройден |
| Состояние системы | `running` | Да | Пройден |

**Вывод:** Система корректно инициализирует все необходимые компоненты

---

### ТЕСТЫ ОБРАБОТКИ ОШИБОК

#### **CE-07: Обработка неверного ввода**

| Неверный ввод | Ожидаемая реакция | Фактическая реакция | Статус |
|---------------|-------------------|---------------------|---------|
| Команда несуществующему устройству | Возврат `False` | `False` | Пройден |
| Неверная команда устройству | Возврат `False` | `False` | Пройден |
| Состояние устройства не меняется | Сохранено | Сохранено | Пройден |

**Вывод:** Система корректно обрабатывает неверный ввод без побочных эффектов

---

## СТАТИСТИКА ТЕСТИРОВАНИЯ

### Распределение по категориям:

| Категория тестов | Количество | Пройдено | Успешность |
|------------------|------------|----------|------------|
| Управление устройствами | 5 | 5 | 100% |
| UI взаимодействие | 3 | 3 | 100% |
| Сценарии и потоки | 2 | 2 | 100% |
| Обработка ошибок | 1 | 1 | 100% |
| **Всего** | **11** | **11** | **100%** |

### Ключевые метрики:

- **Общее количество тест-кейсов:** 11
- **Успешно пройдено:** 11 (100%)
- **Провалено:** 0 (0%)
- **Ошибок выполнения:** 0 (0%)

## ВЫВОДЫ И РЕКОМЕНДАЦИИ

### Сильные стороны системы:

1. **Стабильность состояний** - устройства корректно обрабатывают все переходы
2. **Надежность UI** - навигация и взаимодействие работают предсказуемо
3. **Обработка ошибок** - система устойчива к неверному вводу
4. **Согласованность данных** - состояния синхронизированы между компонентами

**ОБЩИЙ ВЕРДИКТ:** **СИСТЕМА ПРОШЛА ПРИЧИННО-СЛЕДСТВЕННЫЙ АНАЛИЗ УСПЕШНО**

Все причинно-следственные связи работают корректно, система демонстрирует предсказуемое и надежное поведение во всех тестируемых сценариях.