# tests/test_equivalence_partitioning.py
import pytest
from core.home_controller import HomeController

class TestEquivalencePartitioning:
    """–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–º —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è"""
    
    def setup_method(self):
        """–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º"""
        self.controller = HomeController()
    
    def test_temperature_equivalence_partitioning(self):
        """–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π"""
        
        # –ö–ª–∞—Å—Å—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
        test_cases = [
            # (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –æ–∂–∏–¥–∞–µ–º—ã–π_—Ä–µ–∑—É–ª—å—Ç–∞—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ_–∫–ª–∞—Å—Å–∞)
            
            # –î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: 15-30¬∞C
            (15, True, "–ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"),
            (22, True, "–°–µ—Ä–µ–¥–∏–Ω–∞ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"), 
            (30, True, "–í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞"),
            (25, True, "–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: <15¬∞C
            (14, False, "–ß—É—Ç—å –Ω–∏–∂–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã"),
            (0, False, "–ù—É–ª–µ–≤–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"),
            (-10, False, "–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: >30¬∞C  
            (31, False, "–ß—É—Ç—å –≤—ã—à–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã"),
            (40, False, "–í—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"),
            (100, False, "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞"),
        ]
        
        print("üå°Ô∏è –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –¢–ï–ú–ü–ï–†–ê–¢–£–†–´ - –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ï –†–ê–ó–î–ï–õ–ï–ù–ò–ï")
        print("=" * 60)
        
        passed = 0
        total = 0
        
        for temperature, expected_result, description in test_cases:
            total += 1
            try:
                # –í—ã–∑—ã–≤–∞–µ–º –º–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
                result = self.controller.set_temperature(temperature)
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                if result == expected_result:
                    passed += 1
                    status = "‚úÖ –ü–†–û–ô–î–ï–ù"
                else:
                    status = "‚ùå –ù–ï –ü–†–û–ô–î–ï–ù"
                
                print(f"  {status} | {temperature:3}¬∞C | {description}")
                    
            except Exception as e:
                # –ï—Å–ª–∏ –º–µ—Ç–æ–¥ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
                print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | {temperature:3}¬∞C | {description} (–æ—à–∏–±–∫–∞: {e})")
        
        print(f"  –ò–¢–û–ì: {passed}/{total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ")
        # –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞: –µ—Å–ª–∏ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–µ–π—Å –Ω–µ –ø—Ä–æ—à—ë–ª ‚Äî –ø–∞–¥–∞–µ–º
        assert passed == total, f"–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: –ø—Ä–æ–π–¥–µ–Ω–æ {passed} –∏–∑ {total}"
    
    def test_light_brightness_equivalence_partitioning(self):
        """–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è —è—Ä–∫–æ—Å—Ç–∏ —Å–≤–µ—Ç–∞"""
        
        # –ö–ª–∞—Å—Å—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —è—Ä–∫–æ—Å—Ç–∏ (0-100%)
        test_cases = [
            # (—è—Ä–∫–æ—Å—Ç—å, –æ–∂–∏–¥–∞–µ–º—ã–π_—Ä–µ–∑—É–ª—å—Ç–∞—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ_–∫–ª–∞—Å—Å–∞)
            
            # –î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: 0-100%
            (0, True, "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —è—Ä–∫–æ—Å—Ç—å (–≤—ã–∫–ª—é—á–µ–Ω–æ)"),
            (50, True, "–°—Ä–µ–¥–Ω—è—è —è—Ä–∫–æ—Å—Ç—å"),
            (100, True, "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —è—Ä–∫–æ—Å—Ç—å"),
            (75, True, "–í—ã—Å–æ–∫–∞—è —è—Ä–∫–æ—Å—Ç—å"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: <0%
            (-1, False, "–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —è—Ä–∫–æ—Å—Ç—å"),
            (-50, False, "–°–∏–ª—å–Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–∞—è —è—Ä–∫–æ—Å—Ç—å"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: >100%
            (101, False, "–°–≤—ã—à–µ 100% —è—Ä–∫–æ—Å—Ç–∏"),
            (150, False, "–Ø—Ä–∫–æ—Å—Ç—å 150%"),
        ]
        
        print("\nüí° –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –Ø–†–ö–û–°–¢–ò –°–í–ï–¢–ê - –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ï –†–ê–ó–î–ï–õ–ï–ù–ò–ï")
        print("=" * 60)
        
        passed = 0
        total = 0
        
        for brightness, expected_result, description in test_cases:
            total += 1
            try:
                # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤
                if hasattr(self.controller, 'set_brightness'):
                    result = self.controller.set_brightness(brightness)
                elif hasattr(self.controller, 'set_light_brightness'):
                    result = self.controller.set_light_brightness(brightness)
                elif hasattr(self.controller, 'adjust_brightness'):
                    result = self.controller.adjust_brightness(brightness)
                else:
                    print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | {brightness:3}% | {description} (–º–µ—Ç–æ–¥—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)")
                    continue
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                if result == expected_result:
                    passed += 1
                    status = "‚úÖ –ü–†–û–ô–î–ï–ù"
                else:
                    status = "‚ùå –ù–ï –ü–†–û–ô–î–ï–ù"
                
                print(f"  {status} | {brightness:3}% | {description}")
                    
            except Exception as e:
                print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | {brightness:3}% | {description} (–æ—à–∏–±–∫–∞: {e})")
        
        print(f"  –ò–¢–û–ì: {passed}/{total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ")
        # –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        assert passed == total, f"–Ø—Ä–∫–æ—Å—Ç—å: –ø—Ä–æ–π–¥–µ–Ω–æ {passed} –∏–∑ {total}"
    
    def test_security_pin_equivalence_partitioning(self):
        """–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è PIN-–∫–æ–¥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"""
        
        # –ö–ª–∞—Å—Å—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è PIN-–∫–æ–¥–∞ (4-6 —Ü–∏—Ñ—Ä)
        test_cases = [
            # (pin_–∫–æ–¥, –æ–∂–∏–¥–∞–µ–º—ã–π_—Ä–µ–∑—É–ª—å—Ç–∞—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ_–∫–ª–∞—Å—Å–∞)
            
            # –î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: 4-6 —Ü–∏—Ñ—Ä
            ("1234", True, "–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PIN –∏–∑ 4 —Ü–∏—Ñ—Ä"),
            ("12345", True, "–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PIN –∏–∑ 5 —Ü–∏—Ñ—Ä"), 
            ("123456", True, "–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π PIN –∏–∑ 6 —Ü–∏—Ñ—Ä"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: <4 —Ü–∏—Ñ—Ä
            ("123", False, "–°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π PIN"),
            ("12", False, "–û—á–µ–Ω—å –∫–æ—Ä–æ—Ç–∫–∏–π PIN"),
            ("", False, "–ü—É—Å—Ç–æ–π PIN"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: >6 —Ü–∏—Ñ—Ä
            ("1234567", False, "–°–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–π PIN"),
            ("12345678", False, "–û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π PIN"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: –Ω–µ —Ü–∏—Ñ—Ä—ã
            ("abcd", False, "PIN —Å –±—É–∫–≤–∞–º–∏"),
            ("12a4", False, "PIN —Å –±—É–∫–≤–æ–π –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ"),
            ("!@#$", False, "PIN —Å–æ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–∞–º–∏"),
            ("12 34", False, "PIN —Å –ø—Ä–æ–±–µ–ª–æ–º"),
        ]
        
        print("\nüîê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï PIN-–ö–û–î–ê - –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ï –†–ê–ó–î–ï–õ–ï–ù–ò–ï")
        print("=" * 60)
        
        passed = 0
        total = 0
        
        for pin_code, expected_result, description in test_cases:
            total += 1
            try:
                # –ü—Ä–æ–±—É–µ–º –º–µ—Ç–æ–¥—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
                if hasattr(self.controller, 'set_security_pin'):
                    result = self.controller.set_security_pin(pin_code)
                elif hasattr(self.controller, 'validate_pin'):
                    result = self.controller.validate_pin(pin_code)
                elif hasattr(self.controller, 'arm_security'):
                    result = self.controller.arm_security(pin_code)
                else:
                    print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | '{pin_code:6}' | {description} (–º–µ—Ç–æ–¥—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)")
                    continue
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                if result == expected_result:
                    passed += 1
                    status = "‚úÖ –ü–†–û–ô–î–ï–ù"
                else:
                    status = "‚ùå –ù–ï –ü–†–û–ô–î–ï–ù"
                
                print(f"  {status} | '{pin_code:6}' | {description}")
                    
            except Exception as e:
                print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | '{pin_code:6}' | {description} (–æ—à–∏–±–∫–∞: {e})")
        
        print(f"  –ò–¢–û–ì: {passed}/{total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ")
        # –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        assert passed == total, f"PIN: –ø—Ä–æ–π–¥–µ–Ω–æ {passed} –∏–∑ {total}"
    
    def test_schedule_time_equivalence_partitioning(self):
        """–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è"""
        
        # –ö–ª–∞—Å—Å—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏ (00:00 - 23:59)
        test_cases = [
            # (–≤—Ä–µ–º—è, –æ–∂–∏–¥–∞–µ–º—ã–π_—Ä–µ–∑—É–ª—å—Ç–∞—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ_–∫–ª–∞—Å—Å–∞)
            
            # –î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è
            ("00:00", True, "–ü–æ–ª–Ω–æ—á—å"),
            ("12:00", True, "–ü–æ–ª–¥–µ–Ω—å"),
            ("23:59", True, "–ü–æ—á—Ç–∏ –ø–æ–ª–Ω–æ—á—å"),
            ("09:30", True, "–£—Ç—Ä–µ–Ω–Ω–µ–µ –≤—Ä–µ–º—è"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
            ("24:00", False, "–í—Ä–µ–º—è –ø–æ—Å–ª–µ –ø–æ–ª—É–Ω–æ—á–∏"),
            ("25:00", False, "–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —á–∞—Å"),
            ("12:60", False, "–ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–∏–Ω—É—Ç—ã"),
            ("12:99", False, "–°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–∏–µ –º–∏–Ω—É—Ç—ã"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
            ("1200", False, "–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –¥–≤–æ–µ—Ç–æ—á–∏—è"),
            ("12:0", False, "–û–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞ –≤ –º–∏–Ω—É—Ç–∞—Ö"),
            ("1:30", False, "–û–¥–Ω–∞ —Ü–∏—Ñ—Ä–∞ –≤ —á–∞—Å–∞—Ö"),
            ("abc:de", False, "–ë—É–∫–≤—ã –≤–º–µ—Å—Ç–æ —Ü–∏—Ñ—Ä"),
        ]
        
        print("\n‚è∞ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í–†–ï–ú–ï–ù–ò –†–ê–°–ü–ò–°–ê–ù–ò–Ø - –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ï –†–ê–ó–î–ï–õ–ï–ù–ò–ï")
        print("=" * 60)
        
        passed = 0
        total = 0
        
        for time_str, expected_result, description in test_cases:
            total += 1
            try:
                # –ü—Ä–æ–±—É–µ–º –º–µ—Ç–æ–¥—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
                if hasattr(self.controller, 'set_schedule_time'):
                    result = self.controller.set_schedule_time(time_str)
                elif hasattr(self.controller, 'add_schedule'):
                    result = self.controller.add_schedule("test", time_str)
                else:
                    print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | '{time_str:5}' | {description} (–º–µ—Ç–æ–¥—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)")
                    continue
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                if result == expected_result:
                    passed += 1
                    status = "‚úÖ –ü–†–û–ô–î–ï–ù"
                else:
                    status = "‚ùå –ù–ï –ü–†–û–ô–î–ï–ù"
                
                print(f"  {status} | '{time_str:5}' | {description}")
                    
            except Exception as e:
                print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | '{time_str:5}' | {description} (–æ—à–∏–±–∫–∞: {e})")
        
        print(f"  –ò–¢–û–ì: {passed}/{total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ")
        # –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        assert passed == total, f"–í—Ä–µ–º—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è: –ø—Ä–æ–π–¥–µ–Ω–æ {passed} –∏–∑ {total}"
    
    def test_energy_consumption_equivalence_partitioning(self):
        """–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏"""
        
        # –ö–ª–∞—Å—Å—ã —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–ª—è —ç–Ω–µ—Ä–≥–∏–∏ (0-5000 –í—Ç)
        test_cases = [
            # (—ç–Ω–µ—Ä–≥–∏—è, –æ–∂–∏–¥–∞–µ–º—ã–π_—Ä–µ–∑—É–ª—å—Ç–∞—Ç, –æ–ø–∏—Å–∞–Ω–∏–µ_–∫–ª–∞—Å—Å–∞)
            
            # –î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: 0-5000 –í—Ç
            (0, True, "–ù—É–ª–µ–≤–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
            (1000, True, "–ù–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
            (2500, True, "–°—Ä–µ–¥–Ω–µ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
            (5000, True, "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: <0 –í—Ç
            (-1, False, "–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
            (-100, False, "–°–∏–ª—å–Ω–æ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
            
            # –ù–ï–î–û–ü–£–°–¢–ò–ú–´–ô –ö–õ–ê–°–°: >5000 –í—Ç
            (5001, False, "–°–≤—ã—à–µ –ª–∏–º–∏—Ç–∞"),
            (10000, False, "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ"),
        ]
        
        print("\n‚ö° –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –ü–û–¢–†–ï–ë–õ–ï–ù–ò–Ø –≠–ù–ï–†–ì–ò–ò - –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ï –†–ê–ó–î–ï–õ–ï–ù–ò–ï")
        print("=" * 60)
        
        passed = 0
        total = 0
        
        for energy, expected_result, description in test_cases:
            total += 1
            try:
                # –ü—Ä–æ–±—É–µ–º –º–µ—Ç–æ–¥—ã —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è
                if hasattr(self.controller, 'set_energy_limit'):
                    result = self.controller.set_energy_limit(energy)
                elif hasattr(self.controller, 'check_energy_consumption'):
                    result = self.controller.check_energy_consumption(energy)
                else:
                    print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | {energy:4} –í—Ç | {description} (–º–µ—Ç–æ–¥—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)")
                    continue
                
                # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                if result == expected_result:
                    passed += 1
                    status = "‚úÖ –ü–†–û–ô–î–ï–ù"
                else:
                    status = "‚ùå –ù–ï –ü–†–û–ô–î–ï–ù"
                
                print(f"  {status} | {energy:4} –í—Ç | {description}")
                    
            except Exception as e:
                print(f"  ‚ö†Ô∏è –ü–†–û–ü–£–©–ï–ù–û | {energy:4} –í—Ç | {description} (–æ—à–∏–±–∫–∞: {e})")
        
        print(f"  –ò–¢–û–ì: {passed}/{total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ")
        # –ñ—ë—Å—Ç–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
        assert passed == total, f"–≠–Ω–µ—Ä–≥–∏—è: –ø—Ä–æ–π–¥–µ–Ω–æ {passed} –∏–∑ {total}"

if __name__ == "__main__":
    # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
    test_instance = TestEquivalencePartitioning()
    test_instance.setup_method()
    
    print("üöÄ –ó–ê–ü–£–°–ö –¢–ï–°–¢–û–í –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ì–û –†–ê–ó–î–ï–õ–ï–ù–ò–Ø")
    print("=" * 70)
    
    # –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ —Ç–µ—Å—Ç—ã
    test_instance.test_temperature_equivalence_partitioning()
    test_instance.test_light_brightness_equivalence_partitioning() 
    test_instance.test_security_pin_equivalence_partitioning()
    test_instance.test_schedule_time_equivalence_partitioning()
    test_instance.test_energy_consumption_equivalence_partitioning()
    
    print("\n" + "=" * 70)
    print("‚úÖ –í–°–ï –¢–ï–°–¢–´ –≠–ö–í–ò–í–ê–õ–ï–ù–¢–ù–û–ì–û –†–ê–ó–î–ï–õ–ï–ù–ò–Ø –ó–ê–í–ï–†–®–ï–ù–´")